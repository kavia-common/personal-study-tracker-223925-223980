{"is_source_file": true, "format": "JavaScript (Jest tests for API client)", "description": "This file contains unit tests for the API client in a JavaScript project, specifically testing request headers, error handling, token storage, and session management functionalities.", "external_files": ["../client"], "external_methods": ["api.getLeaderboard", "api.me", "api.login", "api.createSession", "api.register", "api.deleteSession", "authStore.setToken", "authStore.getToken", "authStore.isAuthenticated"], "published": [], "classes": [], "methods": [{"name": "mockFetchOnce({ status = 200, body = {}, headers = {} } = {})", "description": "Mocks the fetch API to simulate server responses with specified status, body, and headers.", "scope": "", "scopeKind": ""}], "calls": ["global.fetch", "jest.useFakeTimers", "jest.useRealTimers", "jest.resetAllMocks", "authStore.setToken", "authStore.isAuthenticated", "authStore.getToken", "window.localStorage.clear", "window.localStorage.getItem", "window.localStorage.setItem", "api.getLeaderboard", "api.me", "api.login", "api.createSession", "api.register", "api.deleteSession"], "search-terms": ["api client request headers", "token storage fallback", "error handling in API", "unit tests for API", "mock fetch implementation", "API endpoints testing", "authorization header", "API error parsing"], "state": 2, "file_id": 21, "knowledge_revision": 50, "git_revision": "", "ctags": [{"_type": "tag", "name": "mockFetchOnce", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/__tests__/test_client.js", "pattern": "/^  function mockFetchOnce({ status = 200, body = {}, headers = {} } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ status = 200, body = {}, headers = {} } = {})"}], "hash": "49f5ee105fcc0c742992937415f41152", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/src/api/__tests__/test_client.js", "revision_history": [{"50": ""}]}