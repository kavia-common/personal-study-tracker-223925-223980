{"is_source_file": true, "format": "JavaScript", "description": "This file defines a client-side API wrapper for a web application, including classes, functions, and constants to interact with backend endpoints. It manages authentication tokens, constructs request URLs, and facilitates API calls such as user registration, login, session management, and leaderboard retrieval.", "external_files": ["fetch (built-in browser API)"], "external_methods": ["fetch"], "published": ["ApiError", "authStore", "api"], "classes": [{"name": "ApiError", "description": "Custom error class used to represent API request failures."}], "methods": [{"name": "authStore.getToken", "description": "Returns the current JWT token stored in memory or localStorage."}, {"name": "authStore.setToken", "description": "Sets or clears the JWT token, also updating localStorage if available."}, {"name": "authStore.isAuthenticated", "description": "Returns boolean indicating if a token is currently set."}, {"name": "buildUrl(path)", "description": "Constructs a full URL for API requests based on environment variable and path.", "scope": "", "scopeKind": ""}, {"name": "request(path, { method = \"GET\", body, headers = {}, auth = true } = {})", "description": "Performs an HTTP request with proper headers, authorization, and error handling.", "scope": "", "scopeKind": ""}, {"name": "api.register", "description": "Registers a new user via API."}, {"name": "api.login", "description": "Authenticates a user and stores the received JWT token."}, {"name": "api.me", "description": "Fetches current user profile information."}, {"name": "api.createSession", "description": "Creates a new session entry in the backend."}, {"name": "api.listSessions", "description": "Retrieves a paginated list of sessions, optionally filtered by topic and date range."}, {"name": "api.updateSession", "description": "Updates an existing session identified by session_id."}, {"name": "api.deleteSession", "description": "Deletes a session identified by session_id."}, {"name": "api.getLeaderboard", "description": "Retrieves the leaderboard data."}, {"name": "constructor(message, status, details)", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}, {"name": "createSession({ topic, minutes, session_date })", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "deleteSession(session_id)", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "getLeaderboard({ top = 10 } = {})", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "listSessions({ page = 1, size = 20, topic, start_date, end_date } = {})", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "login({ email, password })", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "me()", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "register({ email, password })", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "updateSession(session_id, { topic, minutes, session_date })", "scope": "api", "scopeKind": "class", "description": "unavailable"}], "calls": ["fetch(buildUrl(path), {...})", "window.localStorage.getItem(STORAGE_KEY)", "window.localStorage.setItem(STORAGE_KEY, newToken)", "window.localStorage.removeItem(STORAGE_KEY)", "JSON.parse(text)", "JSON.stringify(body)", "process.env.REACT_APP_API_BASE", "new URLSearchParams()"], "search-terms": ["client API wrapper", "auth token management", "session CRUD", "leaderboard API", "ApiError class", "localStorage fallback", "buildUrl function"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^export class ApiError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^    \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "request.h", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "authStore", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^export const authStore = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^function buildUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  constructor(message, status, details) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, status, details)", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "createSession", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  async createSession({ topic, minutes, session_date }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ topic, minutes, session_date })", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "deleteSession", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  async deleteSession(session_id) {$/", "language": "JavaScript", "kind": "method", "signature": "(session_id)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getLeaderboard", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  async getLeaderboard({ top = 10 } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ top = 10 } = {})", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "h", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  const h = {$/", "language": "JavaScript", "kind": "class", "scope": "request", "scopeKind": "class"}, {"_type": "tag", "name": "listSessions", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  async listSessions({ page = 1, size = 20, topic, start_date, end_date } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ page = 1, size = 20, topic, start_date, end_date } = {})", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  async login({ email, password }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ email, password })", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  async me() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  async register({ email, password }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ email, password })", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^async function request(path, { method = \"GET\", body, headers = {}, auth = true } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = \"GET\", body, headers = {}, auth = true } = {})"}, {"_type": "tag", "name": "updateSession", "path": "/home/kavia/workspace/code-generation/personal-study-tracker-223925-223980/WebFrontend/src/api/client.js", "pattern": "/^  async updateSession(session_id, { topic, minutes, session_date }) {$/", "language": "JavaScript", "kind": "method", "signature": "(session_id, { topic, minutes, session_date })", "scope": "api", "scopeKind": "class"}], "hash": "22e1abbc2a8c785230b59e9707d1bca3", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/src/api/client.js", "fields": [{"name": "\"Content-Type\": \"application\\/json\",", "scope": "request.h", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": ""}]}