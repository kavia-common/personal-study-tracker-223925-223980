{"is_source_file": true, "format": "JavaScript", "description": "This file defines a client-side API wrapper for interacting with a backend server, including error handling, authentication token management, URL building, and CRUD operations for sessions and leaderboard data.", "external_files": ["fetch API (built-in)", "window.localStorage (browser API)"], "external_methods": ["fetch", "window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "process.env.REACT_APP_API_BASE"], "published": ["ApiError", "authStore", "api"], "classes": [{"name": "ApiError", "description": "Custom error class for API failure responses."}], "methods": [{"name": "getToken", "description": "Returns the current JWT token from in-memory store."}, {"name": "setToken", "description": "Sets the JWT token and persists it to localStorage."}, {"name": "isAuthenticated", "description": "Checks if a JWT token exists, indicating authentication."}, {"name": "buildUrl", "description": "Constructs a full URL for API requests based on environment variable and path."}, {"name": "request", "description": "Performs an HTTP request with JSON headers, authorization, and error handling."}, {"name": "register", "description": "Registers a new user with email and password."}, {"name": "login", "description": "Logs in a user and stores the received JWT token."}, {"name": "me", "description": "Retrieves current user information."}, {"name": "createSession", "description": "Creates a new session with topic, minutes, and date."}, {"name": "listSessions", "description": "Lists sessions with optional filtering and pagination."}, {"name": "updateSession", "description": "Updates an existing session identified by session_id."}, {"name": "deleteSession", "description": "Deletes a session by session_id."}, {"name": "getLeaderboard", "description": "Retrieves leaderboard data, optionally limited by top count."}], "calls": ["fetch", "window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "process.env.REACT_APP_API_BASE", "authStore.getToken", "authStore.setToken", "authStore.isAuthenticated", "request", "api.register", "api.login", "api.me", "api.createSession", "api.listSessions", "api.updateSession", "api.deleteSession", "api.getLeaderboard"], "search-terms": ["API client", "auth token management", "session CRUD", "leaderboard API", "JavaScript fetch wrapper", "React environment variable"], "state": 2, "file_id": 13, "knowledge_revision": 101, "git_revision": "0ab811e0e9e5f64dd27432a16c0a045b924579b7", "revision_history": [{"27": ""}, {"101": "0ab811e0e9e5f64dd27432a16c0a045b924579b7"}], "ctags": [], "filename": "WebFrontend/src/api/client.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/personal-study-tracker-223925-223980.git:kavia-main"}